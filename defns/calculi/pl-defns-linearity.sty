\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{pl-defns-linearity}[\texttt{pl\-defns\-linearity} Definitions for linear calculus]

\RequirePackage{xparse}
\IfClassLoadedTF{acmart}{}{
    \RequirePackage{amssymb}
}
\RequirePackage{stmaryrd}
\RequirePackage{pl-defns-tyop}

\makeatletter

%% Defining the operators
\NewDocumentCommand{\optensor}{}{\otimes}
\NewDocumentCommand{\oplolli}{}{\multimap}
\NewDocumentCommand{\opwith}{}{\mathop{\&}}
\NewDocumentCommand{\opplus}{}{+}
\NewDocumentCommand{\optimes}{}{\times}
\NewDocumentCommand{\optop}{}{\top}
\NewDocumentCommand{\opbot}{}{\bot}

\NewDocumentCommand{\oplcont}{}{\lnot}

\NewDocumentCommand{\opPi}{d<>}{\pi_{#1}}
\NewDocumentCommand{\opIn}{d<>}{i_{#1}}


\NewDocumentCommand{\opPiOne}{}{\opPi<1>}
\NewDocumentCommand{\opPiTwo}{}{\opPi<2>}
\NewDocumentCommand{\opInOne}{}{\opIn<1>}
\NewDocumentCommand{\opInTwo}{}{\opIn<2>}

\NewDocumentCommand{\larrTy}{s m m}{\infixBinTy{#1}{\Opn{larr}}{\oplolli}{#2}{#3}}
\NewDocumentCommand{\withTy}{s m m}{\infixBinTy{#1}{\Opn{with}}{\opwith}{#2}{#3}}

\NewDocumentCommand{\lcontTy}{s m}{\unaryTy{#1}{\Opn{lcont}}{\oplcont}{#2}}

\NewDocumentCommand{\optionally@Arg}{m m}{\IfNoValueTF{#2}{#1}{\A@bt{#1}(#2)}}

\NewDocumentCommand{\piEx}{s d<> m}{\optionally@Arg{\opPi<#2>}{#3}}
\DeclareDocumentCommand{\inEx}{s d<> m}{\optionally@Arg{\opIn<#2>}{#3}}

\NewDocumentCommand{\piOneEx}{s m}{\optionally@Arg{\opPiOne}{#2}}
\NewDocumentCommand{\piTwoEx}{s m}{\optionally@Arg{\opPiTwo}{#2}}

\NewDocumentCommand{\inOneEx}{s m}{\optionally@Arg{\opInOne}{#2}}
\NewDocumentCommand{\inTwoEx}{s m}{\optionally@Arg{\opInTwo}{#2}}


\NewDocumentCommand{\opLLetcc}{}{\O@pn{lletcc}}
\NewDocumentCommand{\opLThrow}{}{\O@pn{lthrow}}

\NewDocumentCommand{\lletccEx}{s O{\tau} m m}{\Abt@{#1}{\opLLetcc}[#2](\A@bs(#3){#4})}
\NewDocumentCommand{\lthrowEx}{s O{\tau} O{\rho} m m}{\Abt@{#1}{\opLThrow}[#2\@sep #3](#4, #5)}

\makeatother