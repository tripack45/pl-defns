
%% pfpl-defns compatibility

\newboolean{live}             % whether to include live features
\newboolean{solutions}          % whether to typeset solutions 
\newboolean{solutionsonly} % typeset only the solutions 
\newboolean{judgmentmodes}      % whether to discuss modes for judgments
\newboolean{restrictedpoly}     %whether to discuss rank-limited polymorphism
\newboolean{polarization}       %whether to discuss polarization
\newboolean{deptypes}           %whether to discuss dependent types
\newboolean{canonization}       %whether to discuss hereditary substitution
\newboolean{patterns}      %whether to include pattern matching
\newboolean{situated}  %whether to include situated types
\newboolean{past}  %whether to include propositions as types
\newboolean{doublespace} % whether to double-space
\newboolean{modalexcs} %whether to include modal formulation of exceptions
\newboolean{bisim} % whether to include chapter on bisimilarity of processes
\newboolean{abbreviated} %whether to omit certain chapters
\newboolean{symops} % symbolic ops in abt's?
\newboolean{infixprodsum}  % infix notation for labelled products and sums?
\newboolean{3rded} \setboolean{3rded}{false}

\DeclarePairedDelimiter{\parens}{(}{)}
\DeclarePairedDelimiter{\braces}{\{}{\}}
\DeclarePairedDelimiter{\sqbracks}{[}{]}
\DeclarePairedDelimiter{\ptbracks}{\langle}{\rangle}
\DeclarePairedDelimiter{\brackets}{\langle}{\rangle}
\DeclarePairedDelimiter{\corners}{\ulcorner}{\urcorner}
\DeclarePairedDelimiter{\dblsqbracks}{[\![}{]\!]}

\newcommand{\cdcolon}{\kwbin{:}}
\newcommand{\cdcoloncolon}{\kwbin{::}}
\newcommand{\cdcomma}{\kw{,}}
\newcommand{\cdperiod}{\kw{.}}
\newcommand{\cddot}{\cdperiod}
\newcommand{\cddotdot}{\kw{{.}{.}}}
\newcommand{\cdsemi}{\kw{;}}
\newcommand{\cdbar}{\kwbin{|}} %|
\newcommand{\cdatsign}{\kw{@}}
\newcommand{\cdunderscore}{\kw{\_}}
\newcommand{\cdsharp}{\kw{\#}}
\newcommand{\cddollar}{\kw{\$}}
\newcommand{\cdtwiddle}{\kw{\~}}
\newcommand{\cdhat}{\kw{\^{ }}}
\newcommand{\cdstar}{\kw{*}}
\newcommand{\cdamper}{\kw{\&}}
\newcommand{\cdpar}{\kw{||}}
\newcommand{\cdbackslash}{\kw{\backslash}}

\newcommand{\seq}[2]{{#2}_1,\dots,{#2}_{#1}}
\newcommand{\zeq}[2]{{#2}_0,\dots,{#2}_{#1-1}}
\newcommand{\seqsep}[3]{{#3}_1\mathbin{#1}\dots\mathbin{#1}{#3}_{#2}}
\newcommand{\zeqsep}[3]{{#3}_0\mathbin{#1}\dots\mathbin{#1}{#3}_{#2-1}}

\newcommand{\cdparens}[1]{\kw{(}\,#1\,\kw{)}}
\newcommand{\cdnoparens}[1]{#1}
\newcommand{\noparens}[1]{#1}
\newcommand{\cdcdc}{\kw{,}\dots\kw{,}}
\newcommand{\cdcds}{\kw{;}\dots\kw{;}}
\newcommand{\cdseq}[2]{#2_{1}\cdcdc #2_{#1}}
\newcommand{\cdzeq}[2]{#2_{0}\cdcdc #2_{#1-1}}
\newcommand{\cdsseq}[2]{#2_{1}\cdcds #2_{#1}}
\newcommand{\cdszeq}[2]{#2_{0}\cdcds #2_{#1-1}}
\newcommand{\cdpseq}[4]{{#3}_{1}{#2}{#4}_{1}\cdcdc{#3}_{#1}{#2}{#4}_{#1}}
\newcommand{\cdpzeq}[4]{{#3}_{0}{#2}{#4}_{0}\cdcdc{#3}_{#1-1}{#2}{#4}_{#1-1}}
\newcommand{\cdsqbracks}[1]{\kw{[}\,{#1}\,\kw{]}}
\newcommand{\cdptbracks}[1]{\langle {#1}\rangle}
\newcommand{\cdrdbracks}[1]{\cdparens{#1}}
\newcommand{\cdbrackets}[1]{\cdptbracks{#1}}
\newcommand{\cdbraces}[1]{\kw{\{}{#1}\kw{\}}}
\newcommand{\cdcurlbracks}[1]{\cdbraces{#1}}

\newcommand{\eqdef}{\mathrel{\triangleq}}
\newcommand{\isdef}{\eqdef}

\newcommand{\twiddle}{\raisebox{.2ex}{\texttildelow}}

\newcommand{\bnfdef}{\coloncolonequals}
\newcommand{\phantombnfdef}{\mathrel{\phantom{\bnfdef}}}
\newcommand{\bnfalt}{\mathrel{\mid}}
\newcommand{\phantombnfalt}{\mathrel{\phantom{\mid}}}

\newcommand{\JPre}[2]{{#2}\;{#1}}
\newcommand{\JPPre}[2]{{#2}\parens{#1}}
\newcommand{\JPost}[2]{{#1}\;{#2}}
\newcommand{\JPPost}[2]{\parens{#1}\;{#2}}
\newcommand{\JInfix}[3]{{#1}\mathrel{#2}{#3}}
\newcommand{\JTInfix}[3]{{#1}\mathbin{#2}{#3}} % tighter form for contexts
\newcommand{\FamInst}[2]{{#1}\,[{#2}]}
\newcommand{\JFam}[3]{\FamInst{\JPPre{#3}{#1}}{#2}}

\newcommand{\Has}[2]{\JTInfix{#1}{\twiddle}{#2}}
\newcommand{\HasSym}[2]{\JInfix{#1}{\twiddle}{#2}}

\newcommand{\IsMobile}[1]{\JPost{#1}{\textsf{mobile}}}

\DeclareDocumentCommand{\IsOf}{m m}{\isOf{#1}{#2}}